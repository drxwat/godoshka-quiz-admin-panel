import{g as ie,a as oe,s as B,P as Re,r as x,u as se,_ as ue,b as y,j as c,c as ce,d as le,e as Fe,f as de,h as ve,i as L,k as ge,l as Be,m as Ie,n as J,B as Q,T as q,o as F,p as ze,L as Le}from"./index-b9d0c58c.js";import{u as Ge,S as He,a as Ae,D as De,b as ke,c as Me,T as z,d as Oe,e as Ve,m as Xe,C as Qe,F as Ke,f as Je}from"./confirm-72c98db8.js";function Ze(e){return ie("MuiCard",e)}oe("MuiCard",["root"]);const et=["className","raised"],tt=e=>{const{classes:t}=e;return le({root:["root"]},Ze,t)},rt=B(Re,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),at=x.forwardRef(function(t,r){const a=se({props:t,name:"MuiCard"}),{className:n,raised:i=!1}=a,o=ue(a,et),s=y({},a,{raised:i}),l=tt(s);return c.jsx(rt,y({className:ce(l.root,n),elevation:i?8:void 0,ref:r,ownerState:s},o))}),nt=at;function it(e){return ie("MuiCardContent",e)}oe("MuiCardContent",["root"]);const ot=["className","component"],st=e=>{const{classes:t}=e;return le({root:["root"]},it,t)},ut=B("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ct=x.forwardRef(function(t,r){const a=se({props:t,name:"MuiCardContent"}),{className:n,component:i="div"}=a,o=ue(a,ot),s=y({},a,{component:i}),l=st(s);return c.jsx(ut,y({as:i,className:ce(l.root,n),ownerState:s,ref:r},o))}),lt=ct,dt=x.createContext(),pe=dt;function ft(e){return ie("MuiGrid",e)}const mt=[0,1,2,3,4,5,6,7,8,9,10],ht=["column-reverse","column","row-reverse","row"],vt=["nowrap","wrap-reverse","wrap"],H=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],K=oe("MuiGrid",["root","container","item","zeroMinWidth",...mt.map(e=>`spacing-xs-${e}`),...ht.map(e=>`direction-xs-${e}`),...vt.map(e=>`wrap-xs-${e}`),...H.map(e=>`grid-xs-${e}`),...H.map(e=>`grid-sm-${e}`),...H.map(e=>`grid-md-${e}`),...H.map(e=>`grid-lg-${e}`),...H.map(e=>`grid-xl-${e}`)]),gt=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function G(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function pt({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((a,n)=>{let i={};if(t[n]&&(r=t[n]),!r)return a;if(r===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=de({values:t.columns,breakpoints:e.breakpoints.values}),s=typeof o=="object"?o[n]:o;if(s==null)return a;const l=`${Math.round(r/s*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const f=`calc(${l} + ${G(d)})`;u={flexBasis:f,maxWidth:f}}}i=y({flexBasis:l,flexGrow:0,maxWidth:l},u)}return e.breakpoints.values[n]===0?Object.assign(a,i):a[e.breakpoints.up(n)]=i,a},{})}function wt({theme:e,ownerState:t}){const r=de({values:t.direction,breakpoints:e.breakpoints.values});return ve({theme:e},r,a=>{const n={flexDirection:a};return a.indexOf("column")===0&&(n[`& > .${K.item}`]={maxWidth:"none"}),n})}function $e({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(n=>{r===""&&t[n]!==0&&(r=n)});const a=Object.keys(e).sort((n,i)=>e[n]-e[i]);return a.slice(0,a.indexOf(r))}function bt({theme:e,ownerState:t}){const{container:r,rowSpacing:a}=t;let n={};if(r&&a!==0){const i=de({values:a,breakpoints:e.breakpoints.values});let o;typeof i=="object"&&(o=$e({breakpoints:e.breakpoints.values,values:i})),n=ve({theme:e},i,(s,l)=>{var u;const d=e.spacing(s);return d!=="0px"?{marginTop:`-${G(d)}`,[`& > .${K.item}`]:{paddingTop:G(d)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${K.item}`]:{paddingTop:0}}})}return n}function yt({theme:e,ownerState:t}){const{container:r,columnSpacing:a}=t;let n={};if(r&&a!==0){const i=de({values:a,breakpoints:e.breakpoints.values});let o;typeof i=="object"&&(o=$e({breakpoints:e.breakpoints.values,values:i})),n=ve({theme:e},i,(s,l)=>{var u;const d=e.spacing(s);return d!=="0px"?{width:`calc(100% + ${G(d)})`,marginLeft:`-${G(d)}`,[`& > .${K.item}`]:{paddingLeft:G(d)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${K.item}`]:{paddingLeft:0}}})}return n}function xt(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const a=[];return t.forEach(n=>{const i=e[n];Number(i)>0&&a.push(r[`spacing-${n}-${String(i)}`])}),a}const Ct=B("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:a,direction:n,item:i,spacing:o,wrap:s,zeroMinWidth:l,breakpoints:u}=r;let d=[];a&&(d=xt(o,u,t));const f=[];return u.forEach(h=>{const v=r[h];v&&f.push(t[`grid-${h}-${String(v)}`])}),[t.root,a&&t.container,i&&t.item,l&&t.zeroMinWidth,...d,n!=="row"&&t[`direction-xs-${String(n)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...f]}})(({ownerState:e})=>y({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),wt,bt,yt,pt);function Tt(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(a=>{const n=e[a];if(Number(n)>0){const i=`spacing-${a}-${String(n)}`;r.push(i)}}),r}const St=e=>{const{classes:t,container:r,direction:a,item:n,spacing:i,wrap:o,zeroMinWidth:s,breakpoints:l}=e;let u=[];r&&(u=Tt(i,l));const d=[];l.forEach(h=>{const v=e[h];v&&d.push(`grid-${h}-${String(v)}`)});const f={root:["root",r&&"container",n&&"item",s&&"zeroMinWidth",...u,a!=="row"&&`direction-xs-${String(a)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...d]};return le(f,ft,t)},Dt=x.forwardRef(function(t,r){const a=se({props:t,name:"MuiGrid"}),{breakpoints:n}=Ge(),i=Fe(a),{className:o,columns:s,columnSpacing:l,component:u="div",container:d=!1,direction:f="row",item:h=!1,rowSpacing:v,spacing:g=0,wrap:O="wrap",zeroMinWidth:T=!1}=i,S=ue(i,gt),j=v||g,E=l||g,Y=x.useContext(pe),w=d?s||12:Y,$={},D=y({},S);n.keys.forEach(k=>{S[k]!=null&&($[k]=S[k],delete D[k])});const N=y({},i,{columns:w,container:d,direction:f,item:h,rowSpacing:j,columnSpacing:E,wrap:O,zeroMinWidth:T,spacing:g},$,{breakpoints:n.keys}),U=St(N);return c.jsx(pe.Provider,{value:w,children:c.jsx(Ct,y({ownerState:N,className:ce(U.root,o),as:u,ref:r},D))})}),we=Dt;function kt(e){return ie("MuiSwitch",e)}const Mt=oe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),b=Mt,Ot=["className","color","edge","size","sx"],$t=e=>{const{classes:t,edge:r,size:a,color:n,checked:i,disabled:o}=e,s={root:["root",r&&`edge${L(r)}`,`size${L(a)}`],switchBase:["switchBase",`color${L(n)}`,i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=le(s,kt,t);return y({},t,l)},Nt=B("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${L(r.edge)}`],t[`size${L(r.size)}`]]}})(({ownerState:e})=>y({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${b.thumb}`]:{width:16,height:16},[`& .${b.switchBase}`]:{padding:4,[`&.${b.checked}`]:{transform:"translateX(16px)"}}})),Ut=B(He,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${b.input}`]:t.input},r.color!=="default"&&t[`color${L(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${b.checked}`]:{transform:"translateX(20px)"},[`&.${b.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${b.checked} + .${b.track}`]:{opacity:.5},[`&.${b.disabled} + .${b.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${b.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>y({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ge(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${b.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ge(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?Be(e.palette[t.color].main,.62):Ie(e.palette[t.color].main,.55)}`}},[`&.${b.checked} + .${b.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Pt=B("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Wt=B("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),_t=x.forwardRef(function(t,r){const a=se({props:t,name:"MuiSwitch"}),{className:n,color:i="primary",edge:o=!1,size:s="medium",sx:l}=a,u=ue(a,Ot),d=y({},a,{color:i,edge:o,size:s}),f=$t(d),h=c.jsx(Wt,{className:f.thumb,ownerState:d});return c.jsxs(Nt,{className:ce(f.root,n),sx:l,ownerState:d,children:[c.jsx(Ut,y({type:"checkbox",icon:h,checkedIcon:h,ref:r,ownerState:d},u,{classes:y({},f,{root:f.switchBase})})),c.jsx(Pt,{className:f.track,ownerState:d})]})}),jt=_t,Et=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(-1);return{confirmOpen:e,setConfirmOpen:t,moduleIdToDelete:r,setModuleIdToDelete:a,handleDelete:async i=>{try{if(i!==-1){const{error:o}=await J.from("modules").delete().eq("id",i);o&&console.log(o)}a(-1),t(!1)}catch(o){o instanceof Error&&console.log("Ошибка при удалении",o.message)}}}},Yt=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(-1),[n,i]=x.useState(""),[o,s]=x.useState("");return{updateOpen:e,setUpdateOpen:t,updateName:n,setUpdateName:i,updateDescription:o,setUpdateDescription:s,handleUpdate:async()=>{try{if(r!==-1){const u=new Date().toISOString(),{error:d}=await J.from("modules").update({name:n,description:o,updated_at:u}).eq("id",r);d&&console.log(d)}}catch(u){u instanceof Error&&console.log("Ошибка при изменении данных",u.message)}finally{t(!1),a(-1)}},setModuleIdToUpdate:a}};function re(e){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function p(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qt(e){return p(1,arguments),e instanceof Date||re(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function M(e){p(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||re(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rt(e){if(p(1,arguments),!qt(e)&&typeof e!="number")return!1;var t=M(e);return!isNaN(Number(t))}function _(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ft(e,t){p(2,arguments);var r=M(e).getTime(),a=_(t);return new Date(r+a)}function Bt(e,t){p(2,arguments);var r=_(t);return Ft(e,-r)}var It=864e5;function zt(e){p(1,arguments);var t=M(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),n=r-a;return Math.floor(n/It)+1}function ae(e){p(1,arguments);var t=1,r=M(e),a=r.getUTCDay(),n=(a<t?7:0)+a-t;return r.setUTCDate(r.getUTCDate()-n),r.setUTCHours(0,0,0,0),r}function Ne(e){p(1,arguments);var t=M(e),r=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var n=ae(a),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=ae(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Lt(e){p(1,arguments);var t=Ne(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var a=ae(r);return a}var Gt=6048e5;function Ht(e){p(1,arguments);var t=M(e),r=ae(t).getTime()-Lt(t).getTime();return Math.round(r/Gt)+1}var At={};function fe(){return At}function ne(e,t){var r,a,n,i,o,s,l,u;p(1,arguments);var d=fe(),f=_((r=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=M(e),v=h.getUTCDay(),g=(v<f?7:0)+v-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function Ue(e,t){var r,a,n,i,o,s,l,u;p(1,arguments);var d=M(e),f=d.getUTCFullYear(),h=fe(),v=_((r=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&n!==void 0?n:h.firstWeekContainsDate)!==null&&a!==void 0?a:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,v),g.setUTCHours(0,0,0,0);var O=ne(g,t),T=new Date(0);T.setUTCFullYear(f,0,v),T.setUTCHours(0,0,0,0);var S=ne(T,t);return d.getTime()>=O.getTime()?f+1:d.getTime()>=S.getTime()?f:f-1}function Vt(e,t){var r,a,n,i,o,s,l,u;p(1,arguments);var d=fe(),f=_((r=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&a!==void 0?a:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Ue(e,t),v=new Date(0);v.setUTCFullYear(h,0,f),v.setUTCHours(0,0,0,0);var g=ne(v,t);return g}var Xt=6048e5;function Qt(e,t){p(1,arguments);var r=M(e),a=ne(r,t).getTime()-Vt(r,t).getTime();return Math.round(a/Xt)+1}function m(e,t){for(var r=e<0?"-":"",a=Math.abs(e).toString();a.length<t;)a="0"+a;return r+a}var Kt={y:function(t,r){var a=t.getUTCFullYear(),n=a>0?a:1-a;return m(r==="yy"?n%100:n,r.length)},M:function(t,r){var a=t.getUTCMonth();return r==="M"?String(a+1):m(a+1,2)},d:function(t,r){return m(t.getUTCDate(),r.length)},a:function(t,r){var a=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,r){return m(t.getUTCHours()%12||12,r.length)},H:function(t,r){return m(t.getUTCHours(),r.length)},m:function(t,r){return m(t.getUTCMinutes(),r.length)},s:function(t,r){return m(t.getUTCSeconds(),r.length)},S:function(t,r){var a=r.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return m(i,r.length)}};const W=Kt;var I={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jt={G:function(t,r,a){var n=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,r,a){if(r==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return W.y(t,r)},Y:function(t,r,a,n){var i=Ue(t,n),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return m(s,2)}return r==="Yo"?a.ordinalNumber(o,{unit:"year"}):m(o,r.length)},R:function(t,r){var a=Ne(t);return m(a,r.length)},u:function(t,r){var a=t.getUTCFullYear();return m(a,r.length)},Q:function(t,r,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return m(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return m(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,a){var n=t.getUTCMonth();switch(r){case"M":case"MM":return W.M(t,r);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,a){var n=t.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return m(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,a,n){var i=Qt(t,n);return r==="wo"?a.ordinalNumber(i,{unit:"week"}):m(i,r.length)},I:function(t,r,a){var n=Ht(t);return r==="Io"?a.ordinalNumber(n,{unit:"week"}):m(n,r.length)},d:function(t,r,a){return r==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):W.d(t,r)},D:function(t,r,a){var n=zt(t);return r==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):m(n,r.length)},E:function(t,r,a){var n=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,a,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return m(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,a,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return m(o,r.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,a){var n=t.getUTCDay(),i=n===0?7:n;switch(r){case"i":return String(i);case"ii":return m(i,r.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,a){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,a){var n=t.getUTCHours(),i;switch(n===12?i=I.noon:n===0?i=I.midnight:i=n/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,a){var n=t.getUTCHours(),i;switch(n>=17?i=I.evening:n>=12?i=I.afternoon:n>=4?i=I.morning:i=I.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,a){if(r==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return W.h(t,r)},H:function(t,r,a){return r==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):W.H(t,r)},K:function(t,r,a){var n=t.getUTCHours()%12;return r==="Ko"?a.ordinalNumber(n,{unit:"hour"}):m(n,r.length)},k:function(t,r,a){var n=t.getUTCHours();return n===0&&(n=24),r==="ko"?a.ordinalNumber(n,{unit:"hour"}):m(n,r.length)},m:function(t,r,a){return r==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):W.m(t,r)},s:function(t,r,a){return r==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):W.s(t,r)},S:function(t,r){return W.S(t,r)},X:function(t,r,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return ye(o);case"XXXX":case"XX":return R(o);case"XXXXX":case"XXX":default:return R(o,":")}},x:function(t,r,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return ye(o);case"xxxx":case"xx":return R(o);case"xxxxx":case"xxx":default:return R(o,":")}},O:function(t,r,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+be(o,":");case"OOOO":default:return"GMT"+R(o,":")}},z:function(t,r,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+be(o,":");case"zzzz":default:return"GMT"+R(o,":")}},t:function(t,r,a,n){var i=n._originalDate||t,o=Math.floor(i.getTime()/1e3);return m(o,r.length)},T:function(t,r,a,n){var i=n._originalDate||t,o=i.getTime();return m(o,r.length)}};function be(e,t){var r=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),i=a%60;if(i===0)return r+String(n);var o=t||"";return r+String(n)+o+m(i,2)}function ye(e,t){if(e%60===0){var r=e>0?"-":"+";return r+m(Math.abs(e)/60,2)}return R(e,t)}function R(e,t){var r=t||"",a=e>0?"-":"+",n=Math.abs(e),i=m(Math.floor(n/60),2),o=m(n%60,2);return a+i+r+o}const Zt=Jt;var xe=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Pe=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},er=function(t,r){var a=t.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return xe(t,r);var o;switch(n){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",xe(n,r)).replace("{{time}}",Pe(i,r))},tr={p:Pe,P:er};const rr=tr;function ar(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var nr=["D","DD"],ir=["YY","YYYY"];function or(e){return nr.indexOf(e)!==-1}function sr(e){return ir.indexOf(e)!==-1}function Ce(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ur={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cr=function(t,r,a){var n,i=ur[t];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};const lr=cr;function me(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,a=e.formats[r]||e.formats[e.defaultWidth];return a}}var dr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hr={date:me({formats:dr,defaultWidth:"full"}),time:me({formats:fr,defaultWidth:"full"}),dateTime:me({formats:mr,defaultWidth:"full"})};const vr=hr;var gr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pr=function(t,r,a,n){return gr[t]};const wr=pr;function A(e){return function(t,r){var a=r!=null&&r.context?String(r.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return n[u]}}var br={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dr=function(t,r){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},kr={ordinalNumber:Dr,era:A({values:br,defaultWidth:"wide"}),quarter:A({values:yr,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:A({values:xr,defaultWidth:"wide"}),day:A({values:Cr,defaultWidth:"wide"}),dayPeriod:A({values:Tr,defaultWidth:"wide",formattingValues:Sr,defaultFormattingWidth:"wide"})};const Mr=kr;function V(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],s=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?$r(s,function(f){return f.test(o)}):Or(s,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function Or(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function $r(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Nr(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(n.length);return{value:o,rest:s}}}var Ur=/^(\d+)(th|st|nd|rd)?/i,Pr=/\d+/i,Wr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_r={any:[/^b/i,/^(a|c)/i]},jr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Er={any:[/1/i,/2/i,/3/i,/4/i]},Yr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Br={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ir={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zr={ordinalNumber:Nr({matchPattern:Ur,parsePattern:Pr,valueCallback:function(t){return parseInt(t,10)}}),era:V({matchPatterns:Wr,defaultMatchWidth:"wide",parsePatterns:_r,defaultParseWidth:"any"}),quarter:V({matchPatterns:jr,defaultMatchWidth:"wide",parsePatterns:Er,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:V({matchPatterns:Yr,defaultMatchWidth:"wide",parsePatterns:qr,defaultParseWidth:"any"}),day:V({matchPatterns:Rr,defaultMatchWidth:"wide",parsePatterns:Fr,defaultParseWidth:"any"}),dayPeriod:V({matchPatterns:Br,defaultMatchWidth:"any",parsePatterns:Ir,defaultParseWidth:"any"})};const Lr=zr;var Gr={code:"en-US",formatDistance:lr,formatLong:vr,formatRelative:wr,localize:Mr,match:Lr,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Hr=Gr;var Ar=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xr=/^'([^]*?)'?$/,Qr=/''/g,Kr=/[a-zA-Z]/;function Te(e,t,r){var a,n,i,o,s,l,u,d,f,h,v,g,O,T,S,j,E,Y;p(2,arguments);var w=String(t),$=fe(),D=(a=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:$.locale)!==null&&a!==void 0?a:Hr,N=_((i=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:$.firstWeekContainsDate)!==null&&o!==void 0?o:(f=$.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=_((v=(g=(O=(T=r==null?void 0:r.weekStartsOn)!==null&&T!==void 0?T:r==null||(S=r.locale)===null||S===void 0||(j=S.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&O!==void 0?O:$.weekStartsOn)!==null&&g!==void 0?g:(E=$.locale)===null||E===void 0||(Y=E.options)===null||Y===void 0?void 0:Y.weekStartsOn)!==null&&v!==void 0?v:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!D.localize)throw new RangeError("locale must contain localize property");if(!D.formatLong)throw new RangeError("locale must contain formatLong property");var k=M(e);if(!Rt(k))throw new RangeError("Invalid time value");var Z=ar(k),Ee=Bt(k,Z),Ye={firstWeekContainsDate:N,weekStartsOn:U,locale:D,_originalDate:k},qe=w.match(Vr).map(function(C){var P=C[0];if(P==="p"||P==="P"){var ee=rr[P];return ee(C,D.formatLong)}return C}).join("").match(Ar).map(function(C){if(C==="''")return"'";var P=C[0];if(P==="'")return Jr(C);var ee=Zt[P];if(ee)return!(r!=null&&r.useAdditionalWeekYearTokens)&&sr(C)&&Ce(C,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&or(C)&&Ce(C,t,String(e)),ee(Ee,C,D.localize,Ye);if(P.match(Kr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return C}).join("");return qe}function Jr(e){var t=e.match(Xr);return t?t[1].replace(Qr,"'"):e}var We=6e4,_e=36e5;function Zr(e,t){var r;p(1,arguments);var a=_((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=aa(e),i;if(n.date){var o=na(n.date,a);i=ia(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s=i.getTime(),l=0,u;if(n.time&&(l=oa(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(u=sa(n.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+u)}var te={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ea=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ta=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ra=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aa(e){var t={},r=e.split(te.dateTimeDelimiter),a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],te.timeZoneDelimiter.test(t.date)&&(t.date=e.split(te.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){var n=te.timezone.exec(a);n?(t.time=a.replace(n[1],""),t.timezone=n[1]):t.time=a}return t}function na(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function ia(e,t){if(t===null)return new Date(NaN);var r=e.match(ea);if(!r)return new Date(NaN);var a=!!r[4],n=X(r[1]),i=X(r[2])-1,o=X(r[3]),s=X(r[4]),l=X(r[5])-1;if(a)return fa(t,s,l)?ua(t,s,l):new Date(NaN);var u=new Date(0);return!la(t,i,o)||!da(t,n)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(n,o)),u)}function X(e){return e?parseInt(e):1}function oa(e){var t=e.match(ta);if(!t)return NaN;var r=he(t[1]),a=he(t[2]),n=he(t[3]);return ma(r,a,n)?r*_e+a*We+n*1e3:NaN}function he(e){return e&&parseFloat(e.replace(",","."))||0}function sa(e){if(e==="Z")return 0;var t=e.match(ra);if(!t)return 0;var r=t[1]==="+"?-1:1,a=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return ha(a,n)?r*(a*_e+n*We):NaN}function ua(e,t,r){var a=new Date(0);a.setUTCFullYear(e,0,4);var n=a.getUTCDay()||7,i=(t-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}var ca=[31,null,31,30,31,30,31,31,30,31,30,31];function je(e){return e%400===0||e%4===0&&e%100!==0}function la(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ca[t]||(je(e)?29:28))}function da(e,t){return t>=1&&t<=(je(e)?366:365)}function fa(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ma(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ha(e,t){return t>=0&&t<=59}const Se=e=>Zr(e),va=({module:e,onPublishedChanged:t,onSelect:r,onEdit:a,onDelete:n})=>c.jsx(nt,{children:c.jsxs(lt,{children:[c.jsxs(Q,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(q,{variant:"h6",component:"div",children:e.name}),c.jsx(jt,{checked:e.is_published,disabled:e.questions.length<e.min_questions,color:e.questions.length>=e.min_questions?"primary":"error",onChange:async()=>{t(!e.is_published)}})]}),c.jsx(q,{variant:"body2",color:"text.secondary",children:e.description?e.description:"Описания нет"}),c.jsx(q,{variant:"body2",color:"text.secondary",children:c.jsxs("span",{style:{color:e.questions.length>=e.min_questions?"inherit":"red"},children:["Необходимо вопросов: ",e.min_questions]})}),c.jsxs(q,{variant:"body2",color:"text.secondary",children:["Всего вопросов в модуле: ",e.questions.length]}),c.jsxs(q,{variant:"body2",color:"text.secondary",children:["Вопросов в квизе: ",e.quiz_question_amount]}),c.jsxs(q,{variant:"body2",color:"text.secondary",children:["Created: ",Te(Se(e.created_at),"dd:MM:yyyy HH:mm")]}),c.jsxs(q,{variant:"body2",color:"text.secondary",children:["Updated: ",Te(Se(e.updated_at),"dd:MM:yyyy HH:mm")]}),c.jsxs(Q,{sx:{display:"flex",justifyContent:"space-between",gap:2,marginTop:2},children:[c.jsxs(Ae,{direction:"row",spacing:2,children:[c.jsx(F,{variant:"contained",onClick:r,children:"Перейти"}),c.jsx(F,{variant:"contained",onClick:a,children:"Изменить"})]}),c.jsx(Q,{children:c.jsx(F,{variant:"contained",color:"error",onClick:n,children:"Удалить"})})]})]})}),ga=()=>{const[e,t]=x.useState({name:"",description:"",min_questions:10,quiz_question_amount:10});return{module:e,handleFieldChange:(n,i)=>{t({...e,[n]:i})},handleSave:async()=>{try{const{error:n}=await J.from("modules").insert([e]);n&&console.error("Ошибка при отправке данных:",n)}catch(n){console.error("Ошибка при сохранении данных:",n)}}}},pa=({open:e,handleClose:t,refreshModules:r})=>{const{module:a,handleFieldChange:n,handleSave:i}=ga();return c.jsx(De,{open:e,onClose:t,children:c.jsx("form",{onSubmit:async()=>{await i(),r()},children:c.jsxs(ke,{sx:{display:"flex",flexDirection:"column"},children:[c.jsx(Me,{sx:{textAlign:"center",marginBottom:2},children:"Create new module"}),c.jsx(z,{label:"Название модуля",sx:{marginBottom:1},value:a.name,onChange:({target:{value:o}})=>{n("name",o)}}),c.jsx(z,{label:"Описание",sx:{marginBottom:1},value:a.description,onChange:({target:{value:o}})=>{n("description",o)}}),c.jsx(z,{label:"Необходимо вопросов",sx:{marginBottom:1},value:a.min_questions,onChange:({target:{value:o}})=>{n("min_questions",+o)}}),c.jsx(z,{label:"Вопросов в квизе",value:a.quiz_question_amount,onChange:({target:{value:o}})=>{n("quiz_question_amount",+o)}}),c.jsxs(Oe,{children:[c.jsx(F,{color:"primary",type:"submit",onClick:t,children:"Сохранить"}),c.jsx(F,{onClick:t,color:"primary",children:"Отменить и закрыть"})]})]})})})},wa=({open:e,handleClose:t,handleUpdate:r,updateName:a,updateDescription:n,setUpdateName:i,setUpdateDescription:o})=>{const s=u=>{i(u.target.value)},l=u=>{o(u.target.value)};return c.jsx(De,{open:e,onClose:t,children:c.jsx("form",{onSubmit:r,children:c.jsxs(ke,{sx:{display:"flex",flexDirection:"column"},children:[c.jsx(Me,{sx:{textAlign:"center",marginBottom:2},children:"Edit module"}),c.jsx(z,{label:"Name",sx:{marginBottom:1},onChange:s,value:a}),c.jsx(z,{label:"Description",onChange:l,value:n}),c.jsxs(Oe,{children:[c.jsx(F,{color:"primary",type:"submit",onClick:t,children:"Сохранить"}),c.jsx(F,{onClick:t,color:"primary",children:"Отменить и закрыть"})]})]})})})},ba=async()=>await J.from("modules").select("*,questions(*)").order("created_at"),Ca=()=>{const e=ze(),{confirmOpen:t,setConfirmOpen:r,setModuleIdToDelete:a,handleDelete:n,moduleIdToDelete:i}=Et(),{data:o,refreshData:s,revertData:l}=Ve(ba),[u,d]=x.useState(!1),{updateOpen:f,setUpdateOpen:h,updateName:v,setUpdateName:g,updateDescription:O,setUpdateDescription:T,handleUpdate:S,setModuleIdToUpdate:j}=Yt(),E=()=>{d(!0)},Y=()=>{d(!1)};return o?c.jsxs(Q,{children:[c.jsxs(Q,{sx:{m:2},children:[c.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx(pa,{open:u,handleClose:Y,refreshModules:s})}),c.jsx(Qe,{open:t,handleClose:()=>r(!1),handleDelete:async()=>{await n(i),s()}}),c.jsx(wa,{open:f,handleClose:()=>h(!1),updateName:v,updateDescription:O,handleUpdate:async()=>{await S(),s()},setUpdateName:g,setUpdateDescription:T}),c.jsx(we,{container:!0,spacing:2,children:o==null?void 0:o.map((w,$,D)=>c.jsx(we,{item:!0,xs:12,sm:6,md:4,lg:3,children:c.jsx(va,{module:w,onPublishedChanged:async N=>{const U=[...D],k=D.findIndex(({id:Z})=>Z===w.id);U.splice(k,1,{...w,is_published:N}),s({fakeData:U,revalidate:!1});try{await J.from("modules").update({is_published:N}).eq("id",w.id)}catch{l()}s()},onSelect:()=>{e(`/questions/${w.id}`)},onEdit:()=>{j(w.id),g(w.name),T(w.description),h(!0)},onDelete:()=>{a(w.id),r(!0)}})},w.id))})]}),c.jsx(Ke,{color:"primary","aria-label":"Add Module",sx:{position:"fixed",bottom:"16px",right:"48px"},onClick:E,children:c.jsx(Je,{})})]}):c.jsx(Le,{})};export{Ca as default};
