var Qt=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var h=(e,t,r)=>(Qt(e,t,"read from private field"),r?r.call(e):t.get(e)),M=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},R=(e,t,r,a)=>(Qt(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r);var $=(e,t,r)=>(Qt(e,t,"access private method"),r);import{g as Rt,a as Pt,s as Ue,P as Ta,r as W,u as Nt,_ as $t,b as ne,j as x,c as Vt,d as At,e as _a,f as Wt,h as ur,i as je,k as Tr,l as Oa,m as ka,S as Gr,n as St,o as Ma,p as _r,q as Or,t as Ea,v as Fa,w as Ua,x as kr,y as jt,z as Mr,A as Ra,B as gt,C as tt,D as at,T as Ne,E as Fe,R as ce,F as Pa,L as Na}from"./index-641c0ee2.js";import{u as $a,S as Va,a as Aa,D as Kr,b as Xr,c as Jr,T as Ae,d as Zr,m as Wa,F as ja,e as La}from"./motion-201a8fa8.js";function Ia(e){return Rt("MuiCard",e)}Pt("MuiCard",["root"]);const Ba=["className","raised"],qa=e=>{const{classes:t}=e;return At({root:["root"]},Ia,t)},Ya=Ue(Ta,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Qa=W.forwardRef(function(t,r){const a=Nt({props:t,name:"MuiCard"}),{className:n,raised:i=!1}=a,s=$t(a,Ba),l=ne({},a,{raised:i}),g=qa(l);return x.jsx(Ya,ne({className:Vt(g.root,n),elevation:i?8:void 0,ref:r,ownerState:l},s))}),za=Qa;function Ha(e){return Rt("MuiCardContent",e)}Pt("MuiCardContent",["root"]);const Ga=["className","component"],Ka=e=>{const{classes:t}=e;return At({root:["root"]},Ha,t)},Xa=Ue("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Ja=W.forwardRef(function(t,r){const a=Nt({props:t,name:"MuiCardContent"}),{className:n,component:i="div"}=a,s=$t(a,Ga),l=ne({},a,{component:i}),g=Ka(l);return x.jsx(Xa,ne({as:i,className:Vt(g.root,n),ownerState:l,ref:r},s))}),Za=Ja,en=W.createContext(),Er=en;function tn(e){return Rt("MuiGrid",e)}const rn=[0,1,2,3,4,5,6,7,8,9,10],an=["column-reverse","column","row-reverse","row"],nn=["nowrap","wrap-reverse","wrap"],Ke=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],it=Pt("MuiGrid",["root","container","item","zeroMinWidth",...rn.map(e=>`spacing-xs-${e}`),...an.map(e=>`direction-xs-${e}`),...nn.map(e=>`wrap-xs-${e}`),...Ke.map(e=>`grid-xs-${e}`),...Ke.map(e=>`grid-sm-${e}`),...Ke.map(e=>`grid-md-${e}`),...Ke.map(e=>`grid-lg-${e}`),...Ke.map(e=>`grid-xl-${e}`)]),sn=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Le(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function on({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((a,n)=>{let i={};if(t[n]&&(r=t[n]),!r)return a;if(r===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Wt({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof s=="object"?s[n]:s;if(l==null)return a;const g=`${Math.round(r/l*1e8)/1e6}%`;let m={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const f=`calc(${g} + ${Le(d)})`;m={flexBasis:f,maxWidth:f}}}i=ne({flexBasis:g,flexGrow:0,maxWidth:g},m)}return e.breakpoints.values[n]===0?Object.assign(a,i):a[e.breakpoints.up(n)]=i,a},{})}function un({theme:e,ownerState:t}){const r=Wt({values:t.direction,breakpoints:e.breakpoints.values});return ur({theme:e},r,a=>{const n={flexDirection:a};return a.indexOf("column")===0&&(n[`& > .${it.item}`]={maxWidth:"none"}),n})}function ea({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(n=>{r===""&&t[n]!==0&&(r=n)});const a=Object.keys(e).sort((n,i)=>e[n]-e[i]);return a.slice(0,a.indexOf(r))}function ln({theme:e,ownerState:t}){const{container:r,rowSpacing:a}=t;let n={};if(r&&a!==0){const i=Wt({values:a,breakpoints:e.breakpoints.values});let s;typeof i=="object"&&(s=ea({breakpoints:e.breakpoints.values,values:i})),n=ur({theme:e},i,(l,g)=>{var m;const d=e.spacing(l);return d!=="0px"?{marginTop:`-${Le(d)}`,[`& > .${it.item}`]:{paddingTop:Le(d)}}:(m=s)!=null&&m.includes(g)?{}:{marginTop:0,[`& > .${it.item}`]:{paddingTop:0}}})}return n}function cn({theme:e,ownerState:t}){const{container:r,columnSpacing:a}=t;let n={};if(r&&a!==0){const i=Wt({values:a,breakpoints:e.breakpoints.values});let s;typeof i=="object"&&(s=ea({breakpoints:e.breakpoints.values,values:i})),n=ur({theme:e},i,(l,g)=>{var m;const d=e.spacing(l);return d!=="0px"?{width:`calc(100% + ${Le(d)})`,marginLeft:`-${Le(d)}`,[`& > .${it.item}`]:{paddingLeft:Le(d)}}:(m=s)!=null&&m.includes(g)?{}:{width:"100%",marginLeft:0,[`& > .${it.item}`]:{paddingLeft:0}}})}return n}function dn(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const a=[];return t.forEach(n=>{const i=e[n];Number(i)>0&&a.push(r[`spacing-${n}-${String(i)}`])}),a}const fn=Ue("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:a,direction:n,item:i,spacing:s,wrap:l,zeroMinWidth:g,breakpoints:m}=r;let d=[];a&&(d=dn(s,m,t));const f=[];return m.forEach(_=>{const D=r[_];D&&f.push(t[`grid-${_}-${String(D)}`])}),[t.root,a&&t.container,i&&t.item,g&&t.zeroMinWidth,...d,n!=="row"&&t[`direction-xs-${String(n)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...f]}})(({ownerState:e})=>ne({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),un,ln,cn,on);function hn(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(a=>{const n=e[a];if(Number(n)>0){const i=`spacing-${a}-${String(n)}`;r.push(i)}}),r}const vn=e=>{const{classes:t,container:r,direction:a,item:n,spacing:i,wrap:s,zeroMinWidth:l,breakpoints:g}=e;let m=[];r&&(m=hn(i,g));const d=[];g.forEach(_=>{const D=e[_];D&&d.push(`grid-${_}-${String(D)}`)});const f={root:["root",r&&"container",n&&"item",l&&"zeroMinWidth",...m,a!=="row"&&`direction-xs-${String(a)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...d]};return At(f,tn,t)},mn=W.forwardRef(function(t,r){const a=Nt({props:t,name:"MuiGrid"}),{breakpoints:n}=$a(),i=_a(a),{className:s,columns:l,columnSpacing:g,component:m="div",container:d=!1,direction:f="row",item:_=!1,rowSpacing:D,spacing:C=0,wrap:ie="wrap",zeroMinWidth:E=!1}=i,Y=$t(i,sn),S=D||C,Q=g||C,z=W.useContext(Er),P=d?l||12:z,X={},J=ne({},Y);n.keys.forEach(j=>{Y[j]!=null&&(X[j]=Y[j],delete J[j])});const N=ne({},i,{columns:P,container:d,direction:f,item:_,rowSpacing:S,columnSpacing:Q,wrap:ie,zeroMinWidth:E,spacing:C},X,{breakpoints:n.keys}),Z=vn(N);return x.jsx(Er.Provider,{value:P,children:x.jsx(fn,ne({ownerState:N,className:Vt(Z.root,s),as:m,ref:r},J))})}),Fr=mn;function gn(e){return Rt("MuiSwitch",e)}const yn=Pt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),te=yn,pn=["className","color","edge","size","sx"],bn=e=>{const{classes:t,edge:r,size:a,color:n,checked:i,disabled:s}=e,l={root:["root",r&&`edge${je(r)}`,`size${je(a)}`],switchBase:["switchBase",`color${je(n)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},g=At(l,gn,t);return ne({},t,g)},wn=Ue("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${je(r.edge)}`],t[`size${je(r.size)}`]]}})(({ownerState:e})=>ne({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${te.thumb}`]:{width:16,height:16},[`& .${te.switchBase}`]:{padding:4,[`&.${te.checked}`]:{transform:"translateX(16px)"}}})),xn=Ue(Va,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${te.input}`]:t.input},r.color!=="default"&&t[`color${je(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${te.checked}`]:{transform:"translateX(20px)"},[`&.${te.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${te.checked} + .${te.track}`]:{opacity:.5},[`&.${te.disabled} + .${te.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${te.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>ne({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Tr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${te.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Tr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${te.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?Oa(e.palette[t.color].main,.62):ka(e.palette[t.color].main,.55)}`}},[`&.${te.checked} + .${te.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Cn=Ue("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Sn=Ue("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Dn=W.forwardRef(function(t,r){const a=Nt({props:t,name:"MuiSwitch"}),{className:n,color:i="primary",edge:s=!1,size:l="medium",sx:g}=a,m=$t(a,pn),d=ne({},a,{color:i,edge:s,size:l}),f=bn(d),_=x.jsx(Sn,{className:f.thumb,ownerState:d});return x.jsxs(wn,{className:Vt(f.root,n),sx:g,ownerState:d,children:[x.jsx(xn,ne({type:"checkbox",icon:_,checkedIcon:_,ref:r,ownerState:d},m,{classes:ne({},f,{root:f.switchBase})})),x.jsx(Cn,{className:f.track,ownerState:d})]})}),Tn=Dn;var se,A,st,re,Oe,Ie,he,ot,Be,qe,ke,Me,we,Ye,Ee,rt,ut,Zt,lt,er,ct,tr,dt,rr,ft,ar,ht,nr,vt,ir,Ut,ta,zr,_n=(zr=class extends Gr{constructor(t,r){super();M(this,Ee);M(this,ut);M(this,lt);M(this,ct);M(this,dt);M(this,ft);M(this,ht);M(this,vt);M(this,Ut);M(this,se,void 0);M(this,A,void 0);M(this,st,void 0);M(this,re,void 0);M(this,Oe,void 0);M(this,Ie,void 0);M(this,he,void 0);M(this,ot,void 0);M(this,Be,void 0);M(this,qe,void 0);M(this,ke,void 0);M(this,Me,void 0);M(this,we,void 0);M(this,Ye,new Set);this.options=r,R(this,se,t),R(this,he,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(h(this,A).addObserver(this),Ur(h(this,A),this.options)?$(this,Ee,rt).call(this):this.updateResult(),$(this,dt,rr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sr(h(this,A),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sr(h(this,A),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$(this,ft,ar).call(this),$(this,ht,nr).call(this),h(this,A).removeObserver(this)}setOptions(t,r){const a=this.options,n=h(this,A);if(this.options=h(this,se).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");$(this,vt,ir).call(this),St(this.options,a)||h(this,se).getQueryCache().notify({type:"observerOptionsUpdated",query:h(this,A),observer:this});const i=this.hasListeners();i&&Rr(h(this,A),n,this.options,a)&&$(this,Ee,rt).call(this),this.updateResult(r),i&&(h(this,A)!==n||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&$(this,ut,Zt).call(this);const s=$(this,lt,er).call(this);i&&(h(this,A)!==n||this.options.enabled!==a.enabled||s!==h(this,we))&&$(this,ct,tr).call(this,s)}getOptimisticResult(t){const r=h(this,se).getQueryCache().build(h(this,se),t),a=this.createResult(r,t);return kn(this,a)&&(R(this,re,a),R(this,Ie,this.options),R(this,Oe,h(this,A).state)),a}getCurrentResult(){return h(this,re)}trackResult(t,r){const a={};return Object.keys(t).forEach(n=>{Object.defineProperty(a,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),r==null||r(n),t[n])})}),a}trackProp(t){h(this,Ye).add(t)}getCurrentQuery(){return h(this,A)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=h(this,se).defaultQueryOptions(t),a=h(this,se).getQueryCache().build(h(this,se),r);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,r))}fetch(t){return $(this,Ee,rt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),h(this,re)))}createResult(t,r){var J;const a=h(this,A),n=this.options,i=h(this,re),s=h(this,Oe),l=h(this,Ie),m=t!==a?t.state:h(this,st),{state:d}=t;let{error:f,errorUpdatedAt:_,fetchStatus:D,status:C}=d,ie=!1,E;if(r._optimisticResults){const N=this.hasListeners(),Z=!N&&Ur(t,r),j=N&&Rr(t,a,r,n);(Z||j)&&(D=Ua(t.options.networkMode)?"fetching":"paused",d.data===void 0&&(C="pending")),r._optimisticResults==="isRestoring"&&(D="idle")}if(r.select&&d.data!==void 0)if(i&&d.data===(s==null?void 0:s.data)&&r.select===h(this,ot))E=h(this,Be);else try{R(this,ot,r.select),E=r.select(d.data),E=kr(i==null?void 0:i.data,E,r),R(this,Be,E),R(this,he,null)}catch(N){R(this,he,N)}else E=d.data;if(r.placeholderData!==void 0&&E===void 0&&C==="pending"){let N;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=i.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((J=h(this,qe))==null?void 0:J.state.data,h(this,qe)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),R(this,he,null)}catch(Z){R(this,he,Z)}N!==void 0&&(C="success",E=kr(i==null?void 0:i.data,N,r),ie=!0)}h(this,he)&&(f=h(this,he),E=h(this,Be),_=Date.now(),C="error");const Y=D==="fetching",S=C==="pending",Q=C==="error",z=S&&Y,P=d.data!==void 0;return{status:C,fetchStatus:D,isPending:S,isSuccess:C==="success",isError:Q,isInitialLoading:z,isLoading:z,data:E,dataUpdatedAt:d.dataUpdatedAt,error:f,errorUpdatedAt:_,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>m.dataUpdateCount||d.errorUpdateCount>m.errorUpdateCount,isFetching:Y,isRefetching:Y&&!S,isLoadingError:Q&&!P,isPaused:D==="paused",isPlaceholderData:ie,isRefetchError:Q&&P,isStale:lr(t,r),refetch:this.refetch}}updateResult(t){const r=h(this,re),a=this.createResult(h(this,A),this.options);if(R(this,Oe,h(this,A).state),R(this,Ie,this.options),h(this,Oe).data!==void 0&&R(this,qe,h(this,A)),St(a,r))return;R(this,re,a);const n={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,l=typeof s=="function"?s():s;if(l==="all"||!l&&!h(this,Ye).size)return!0;const g=new Set(l??h(this,Ye));return this.options.throwOnError&&g.add("error"),Object.keys(h(this,re)).some(m=>{const d=m;return h(this,re)[d]!==r[d]&&g.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(n.listeners=!0),$(this,Ut,ta).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$(this,dt,rr).call(this)}},se=new WeakMap,A=new WeakMap,st=new WeakMap,re=new WeakMap,Oe=new WeakMap,Ie=new WeakMap,he=new WeakMap,ot=new WeakMap,Be=new WeakMap,qe=new WeakMap,ke=new WeakMap,Me=new WeakMap,we=new WeakMap,Ye=new WeakMap,Ee=new WeakSet,rt=function(t){$(this,vt,ir).call(this);let r=h(this,A).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ma)),r},ut=new WeakSet,Zt=function(){if($(this,ft,ar).call(this),_r||h(this,re).isStale||!Or(this.options.staleTime))return;const r=Ea(h(this,re).dataUpdatedAt,this.options.staleTime)+1;R(this,ke,setTimeout(()=>{h(this,re).isStale||this.updateResult()},r))},lt=new WeakSet,er=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(h(this,A)):this.options.refetchInterval)??!1},ct=new WeakSet,tr=function(t){$(this,ht,nr).call(this),R(this,we,t),!(_r||this.options.enabled===!1||!Or(h(this,we))||h(this,we)===0)&&R(this,Me,setInterval(()=>{(this.options.refetchIntervalInBackground||Fa.isFocused())&&$(this,Ee,rt).call(this)},h(this,we)))},dt=new WeakSet,rr=function(){$(this,ut,Zt).call(this),$(this,ct,tr).call(this,$(this,lt,er).call(this))},ft=new WeakSet,ar=function(){h(this,ke)&&(clearTimeout(h(this,ke)),R(this,ke,void 0))},ht=new WeakSet,nr=function(){h(this,Me)&&(clearInterval(h(this,Me)),R(this,Me,void 0))},vt=new WeakSet,ir=function(){const t=h(this,se).getQueryCache().build(h(this,se),this.options);if(t===h(this,A))return;const r=h(this,A);R(this,A,t),R(this,st,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Ut=new WeakSet,ta=function(t){jt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(h(this,re))}),h(this,se).getQueryCache().notify({query:h(this,A),type:"observerResultsUpdated"})})},zr);function On(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ur(e,t){return On(e,t)||e.state.data!==void 0&&sr(e,t,t.refetchOnMount)}function sr(e,t,r){if(t.enabled!==!1){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&lr(e,t)}return!1}function Rr(e,t,r,a){return r.enabled!==!1&&(e!==t||a.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&lr(e,r)}function lr(e,t){return e.isStaleByTime(t.staleTime)}function kn(e,t){return!St(e.getCurrentResult(),t)}var xe,Ce,ue,pe,Qe,xt,mt,or,Hr,Mn=(Hr=class extends Gr{constructor(t,r){super();M(this,Qe);M(this,mt);M(this,xe,void 0);M(this,Ce,void 0);M(this,ue,void 0);M(this,pe,void 0);R(this,xe,t),this.setOptions(r),this.bindMethods(),$(this,Qe,xt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var a;const r=this.options;this.options=h(this,xe).defaultMutationOptions(t),St(this.options,r)||h(this,xe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:h(this,ue),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Mr(r.mutationKey)!==Mr(this.options.mutationKey)?this.reset():(a=h(this,ue))==null||a.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=h(this,ue))==null||t.removeObserver(this)}onMutationUpdate(t){$(this,Qe,xt).call(this),$(this,mt,or).call(this,t)}getCurrentResult(){return h(this,Ce)}reset(){var t;(t=h(this,ue))==null||t.removeObserver(this),R(this,ue,void 0),$(this,Qe,xt).call(this),$(this,mt,or).call(this)}mutate(t,r){var a;return R(this,pe,r),(a=h(this,ue))==null||a.removeObserver(this),R(this,ue,h(this,xe).getMutationCache().build(h(this,xe),this.options)),h(this,ue).addObserver(this),h(this,ue).execute(t)}},xe=new WeakMap,Ce=new WeakMap,ue=new WeakMap,pe=new WeakMap,Qe=new WeakSet,xt=function(){var r;const t=((r=h(this,ue))==null?void 0:r.state)??Ra();R(this,Ce,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},mt=new WeakSet,or=function(t){jt.batch(()=>{var r,a,n,i,s,l,g,m;if(h(this,pe)&&this.hasListeners()){const d=h(this,Ce).variables,f=h(this,Ce).context;(t==null?void 0:t.type)==="success"?((a=(r=h(this,pe)).onSuccess)==null||a.call(r,t.data,d,f),(i=(n=h(this,pe)).onSettled)==null||i.call(n,t.data,null,d,f)):(t==null?void 0:t.type)==="error"&&((l=(s=h(this,pe)).onError)==null||l.call(s,t.error,d,f),(m=(g=h(this,pe)).onSettled)==null||m.call(g,void 0,t.error,d,f))}this.listeners.forEach(d=>{d(h(this,Ce))})})},Hr),ra=W.createContext(!1),En=()=>W.useContext(ra);ra.Provider;function Fn(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Un=W.createContext(Fn()),Rn=()=>W.useContext(Un);function aa(e,t){return typeof e=="function"?e(...t):!!e}function Pn(){}var Nn=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},$n=e=>{W.useEffect(()=>{e.clearReset()},[e])},Vn=({result:e,errorResetBoundary:t,throwOnError:r,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&aa(r,[e.error,a]),An=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Wn=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jn=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ln(e,t,r){const a=gt(r),n=En(),i=Rn(),s=a.defaultQueryOptions(e);s._optimisticResults=n?"isRestoring":"optimistic",An(s),Nn(s,i),$n(i);const[l]=W.useState(()=>new t(a,s)),g=l.getOptimisticResult(s);if(W.useSyncExternalStore(W.useCallback(m=>{const d=n?()=>{}:l.subscribe(jt.batchCalls(m));return l.updateResult(),d},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),W.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),Wn(s,g))throw jn(s,l,i);if(Vn({result:g,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash)}))throw g.error;return s.notifyOnChangeProps?g:l.trackResult(g)}function In(e,t){return Ln(e,_n,t)}function cr(e,t){const r=gt(t),[a]=W.useState(()=>new Mn(r,e));W.useEffect(()=>{a.setOptions(e)},[a,e]);const n=W.useSyncExternalStore(W.useCallback(s=>a.subscribe(jt.batchCalls(s)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=W.useCallback((s,l)=>{a.mutate(s,l).catch(Pn)},[a]);if(n.error&&aa(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const Bn=()=>{const[e,t]=W.useState(!1),[r,a]=W.useState(-1),[n,i]=W.useState(""),[s,l]=W.useState("");return{updateOpen:e,setUpdateOpen:t,updateName:n,setUpdateName:i,updateDescription:s,setUpdateDescription:l,handleUpdate:async()=>{try{if(r!==-1){const m=new Date().toISOString(),{error:d}=await tt.from("modules").update({name:n,description:s,updated_at:m}).eq("id",r);d&&console.log(d)}}catch(m){m instanceof Error&&console.log("Ошибка при изменении данных",m.message)}finally{t(!1),a(-1)}},setModuleIdToUpdate:a}};function Dt(e){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}function ee(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qn(e){return ee(1,arguments),e instanceof Date||Dt(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function me(e){ee(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Dt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Yn(e){if(ee(1,arguments),!qn(e)&&typeof e!="number")return!1;var t=me(e);return!isNaN(Number(t))}function De(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Qn(e,t){ee(2,arguments);var r=me(e).getTime(),a=De(t);return new Date(r+a)}function zn(e,t){ee(2,arguments);var r=De(t);return Qn(e,-r)}var Hn=864e5;function Gn(e){ee(1,arguments);var t=me(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),n=r-a;return Math.floor(n/Hn)+1}function Tt(e){ee(1,arguments);var t=1,r=me(e),a=r.getUTCDay(),n=(a<t?7:0)+a-t;return r.setUTCDate(r.getUTCDate()-n),r.setUTCHours(0,0,0,0),r}function na(e){ee(1,arguments);var t=me(e),r=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var n=Tt(a),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=Tt(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Kn(e){ee(1,arguments);var t=na(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var a=Tt(r);return a}var Xn=6048e5;function Jn(e){ee(1,arguments);var t=me(e),r=Tt(t).getTime()-Kn(t).getTime();return Math.round(r/Xn)+1}var Zn={};function Lt(){return Zn}function _t(e,t){var r,a,n,i,s,l,g,m;ee(1,arguments);var d=Lt(),f=De((r=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(g=d.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var _=me(e),D=_.getUTCDay(),C=(D<f?7:0)+D-f;return _.setUTCDate(_.getUTCDate()-C),_.setUTCHours(0,0,0,0),_}function ia(e,t){var r,a,n,i,s,l,g,m;ee(1,arguments);var d=me(e),f=d.getUTCFullYear(),_=Lt(),D=De((r=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:_.firstWeekContainsDate)!==null&&a!==void 0?a:(g=_.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(f+1,0,D),C.setUTCHours(0,0,0,0);var ie=_t(C,t),E=new Date(0);E.setUTCFullYear(f,0,D),E.setUTCHours(0,0,0,0);var Y=_t(E,t);return d.getTime()>=ie.getTime()?f+1:d.getTime()>=Y.getTime()?f:f-1}function ei(e,t){var r,a,n,i,s,l,g,m;ee(1,arguments);var d=Lt(),f=De((r=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&a!==void 0?a:(g=d.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:1),_=ia(e,t),D=new Date(0);D.setUTCFullYear(_,0,f),D.setUTCHours(0,0,0,0);var C=_t(D,t);return C}var ti=6048e5;function ri(e,t){ee(1,arguments);var r=me(e),a=_t(r,t).getTime()-ei(r,t).getTime();return Math.round(a/ti)+1}function U(e,t){for(var r=e<0?"-":"",a=Math.abs(e).toString();a.length<t;)a="0"+a;return r+a}var ai={y:function(t,r){var a=t.getUTCFullYear(),n=a>0?a:1-a;return U(r==="yy"?n%100:n,r.length)},M:function(t,r){var a=t.getUTCMonth();return r==="M"?String(a+1):U(a+1,2)},d:function(t,r){return U(t.getUTCDate(),r.length)},a:function(t,r){var a=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,r){return U(t.getUTCHours()%12||12,r.length)},H:function(t,r){return U(t.getUTCHours(),r.length)},m:function(t,r){return U(t.getUTCMinutes(),r.length)},s:function(t,r){return U(t.getUTCSeconds(),r.length)},S:function(t,r){var a=r.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return U(i,r.length)}};const be=ai;var $e={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ni={G:function(t,r,a){var n=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,r,a){if(r==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return be.y(t,r)},Y:function(t,r,a,n){var i=ia(t,n),s=i>0?i:1-i;if(r==="YY"){var l=s%100;return U(l,2)}return r==="Yo"?a.ordinalNumber(s,{unit:"year"}):U(s,r.length)},R:function(t,r){var a=na(t);return U(a,r.length)},u:function(t,r){var a=t.getUTCFullYear();return U(a,r.length)},Q:function(t,r,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return U(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return U(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,a){var n=t.getUTCMonth();switch(r){case"M":case"MM":return be.M(t,r);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,a){var n=t.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return U(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,a,n){var i=ri(t,n);return r==="wo"?a.ordinalNumber(i,{unit:"week"}):U(i,r.length)},I:function(t,r,a){var n=Jn(t);return r==="Io"?a.ordinalNumber(n,{unit:"week"}):U(n,r.length)},d:function(t,r,a){return r==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):be.d(t,r)},D:function(t,r,a){var n=Gn(t);return r==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):U(n,r.length)},E:function(t,r,a){var n=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,a,n){var i=t.getUTCDay(),s=(i-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return U(s,2);case"eo":return a.ordinalNumber(s,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,a,n){var i=t.getUTCDay(),s=(i-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return U(s,r.length);case"co":return a.ordinalNumber(s,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,a){var n=t.getUTCDay(),i=n===0?7:n;switch(r){case"i":return String(i);case"ii":return U(i,r.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,a){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,a){var n=t.getUTCHours(),i;switch(n===12?i=$e.noon:n===0?i=$e.midnight:i=n/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,a){var n=t.getUTCHours(),i;switch(n>=17?i=$e.evening:n>=12?i=$e.afternoon:n>=4?i=$e.morning:i=$e.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,a){if(r==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return be.h(t,r)},H:function(t,r,a){return r==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):be.H(t,r)},K:function(t,r,a){var n=t.getUTCHours()%12;return r==="Ko"?a.ordinalNumber(n,{unit:"hour"}):U(n,r.length)},k:function(t,r,a){var n=t.getUTCHours();return n===0&&(n=24),r==="ko"?a.ordinalNumber(n,{unit:"hour"}):U(n,r.length)},m:function(t,r,a){return r==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):be.m(t,r)},s:function(t,r,a){return r==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):be.s(t,r)},S:function(t,r){return be.S(t,r)},X:function(t,r,a,n){var i=n._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Nr(s);case"XXXX":case"XX":return Te(s);case"XXXXX":case"XXX":default:return Te(s,":")}},x:function(t,r,a,n){var i=n._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return Nr(s);case"xxxx":case"xx":return Te(s);case"xxxxx":case"xxx":default:return Te(s,":")}},O:function(t,r,a,n){var i=n._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Pr(s,":");case"OOOO":default:return"GMT"+Te(s,":")}},z:function(t,r,a,n){var i=n._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Pr(s,":");case"zzzz":default:return"GMT"+Te(s,":")}},t:function(t,r,a,n){var i=n._originalDate||t,s=Math.floor(i.getTime()/1e3);return U(s,r.length)},T:function(t,r,a,n){var i=n._originalDate||t,s=i.getTime();return U(s,r.length)}};function Pr(e,t){var r=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),i=a%60;if(i===0)return r+String(n);var s=t||"";return r+String(n)+s+U(i,2)}function Nr(e,t){if(e%60===0){var r=e>0?"-":"+";return r+U(Math.abs(e)/60,2)}return Te(e,t)}function Te(e,t){var r=t||"",a=e>0?"-":"+",n=Math.abs(e),i=U(Math.floor(n/60),2),s=U(n%60,2);return a+i+r+s}const ii=ni;var $r=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},sa=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},si=function(t,r){var a=t.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return $r(t,r);var s;switch(n){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",$r(n,r)).replace("{{time}}",sa(i,r))},oi={p:sa,P:si};const ui=oi;function li(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ci=["D","DD"],di=["YY","YYYY"];function fi(e){return ci.indexOf(e)!==-1}function hi(e){return di.indexOf(e)!==-1}function Vr(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var vi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mi=function(t,r,a){var n,i=vi[t];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};const gi=mi;function zt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,a=e.formats[r]||e.formats[e.defaultWidth];return a}}var yi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wi={date:zt({formats:yi,defaultWidth:"full"}),time:zt({formats:pi,defaultWidth:"full"}),dateTime:zt({formats:bi,defaultWidth:"full"})};const xi=wi;var Ci={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Si=function(t,r,a,n){return Ci[t]};const Di=Si;function Xe(e){return function(t,r){var a=r!=null&&r.context?String(r.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;n=e.formattingValues[s]||e.formattingValues[i]}else{var l=e.defaultWidth,g=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[g]||e.values[l]}var m=e.argumentCallback?e.argumentCallback(t):t;return n[m]}}var Ti={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ki={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ei={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fi=function(t,r){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ui={ordinalNumber:Fi,era:Xe({values:Ti,defaultWidth:"wide"}),quarter:Xe({values:_i,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Xe({values:Oi,defaultWidth:"wide"}),day:Xe({values:ki,defaultWidth:"wide"}),dayPeriod:Xe({values:Mi,defaultWidth:"wide",formattingValues:Ei,defaultFormattingWidth:"wide"})};const Ri=Ui;function Je(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var s=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(l)?Ni(l,function(f){return f.test(s)}):Pi(l,function(f){return f.test(s)}),m;m=e.valueCallback?e.valueCallback(g):g,m=r.valueCallback?r.valueCallback(m):m;var d=t.slice(s.length);return{value:m,rest:d}}}function Pi(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Ni(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function $i(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var l=t.slice(n.length);return{value:s,rest:l}}}var Vi=/^(\d+)(th|st|nd|rd)?/i,Ai=/\d+/i,Wi={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ji={any:[/^b/i,/^(a|c)/i]},Li={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ii={any:[/1/i,/2/i,/3/i,/4/i]},Bi={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zi={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hi={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gi={ordinalNumber:$i({matchPattern:Vi,parsePattern:Ai,valueCallback:function(t){return parseInt(t,10)}}),era:Je({matchPatterns:Wi,defaultMatchWidth:"wide",parsePatterns:ji,defaultParseWidth:"any"}),quarter:Je({matchPatterns:Li,defaultMatchWidth:"wide",parsePatterns:Ii,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Je({matchPatterns:Bi,defaultMatchWidth:"wide",parsePatterns:qi,defaultParseWidth:"any"}),day:Je({matchPatterns:Yi,defaultMatchWidth:"wide",parsePatterns:Qi,defaultParseWidth:"any"}),dayPeriod:Je({matchPatterns:zi,defaultMatchWidth:"any",parsePatterns:Hi,defaultParseWidth:"any"})};const Ki=Gi;var Xi={code:"en-US",formatDistance:gi,formatLong:xi,formatRelative:Di,localize:Ri,match:Ki,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Ji=Xi;var Zi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,es=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ts=/^'([^]*?)'?$/,rs=/''/g,as=/[a-zA-Z]/;function ns(e,t,r){var a,n,i,s,l,g,m,d,f,_,D,C,ie,E,Y,S,Q,z;ee(2,arguments);var P=String(t),X=Lt(),J=(a=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:X.locale)!==null&&a!==void 0?a:Ji,N=De((i=(s=(l=(g=r==null?void 0:r.firstWeekContainsDate)!==null&&g!==void 0?g:r==null||(m=r.locale)===null||m===void 0||(d=m.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:X.firstWeekContainsDate)!==null&&s!==void 0?s:(f=X.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Z=De((D=(C=(ie=(E=r==null?void 0:r.weekStartsOn)!==null&&E!==void 0?E:r==null||(Y=r.locale)===null||Y===void 0||(S=Y.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&ie!==void 0?ie:X.weekStartsOn)!==null&&C!==void 0?C:(Q=X.locale)===null||Q===void 0||(z=Q.options)===null||z===void 0?void 0:z.weekStartsOn)!==null&&D!==void 0?D:0);if(!(Z>=0&&Z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!J.localize)throw new RangeError("locale must contain localize property");if(!J.formatLong)throw new RangeError("locale must contain formatLong property");var j=me(e);if(!Yn(j))throw new RangeError("Invalid time value");var Re=li(j),T=zn(j,Re),O={firstWeekContainsDate:N,weekStartsOn:Z,locale:J,_originalDate:j},L=P.match(es).map(function(k){var B=k[0];if(B==="p"||B==="P"){var K=ui[B];return K(k,J.formatLong)}return k}).join("").match(Zi).map(function(k){if(k==="''")return"'";var B=k[0];if(B==="'")return is(k);var K=ii[B];if(K)return!(r!=null&&r.useAdditionalWeekYearTokens)&&hi(k)&&Vr(k,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&fi(k)&&Vr(k,t,String(e)),K(T,k,J.localize,O);if(B.match(as))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return k}).join("");return L}function is(e){var t=e.match(ts);return t?t[1].replace(rs,"'"):e}var oa=6e4,ua=36e5;function ss(e,t){var r;ee(1,arguments);var a=De((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=cs(e),i;if(n.date){var s=ds(n.date,a);i=fs(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),g=0,m;if(n.time&&(g=hs(n.time),isNaN(g)))return new Date(NaN);if(n.timezone){if(m=vs(n.timezone),isNaN(m))return new Date(NaN)}else{var d=new Date(l+g),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(l+g+m)}var bt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},os=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,us=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ls=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cs(e){var t={},r=e.split(bt.dateTimeDelimiter),a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],bt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bt.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){var n=bt.timezone.exec(a);n?(t.time=a.replace(n[1],""),t.timezone=n[1]):t.time=a}return t}function ds(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function fs(e,t){if(t===null)return new Date(NaN);var r=e.match(os);if(!r)return new Date(NaN);var a=!!r[4],n=Ze(r[1]),i=Ze(r[2])-1,s=Ze(r[3]),l=Ze(r[4]),g=Ze(r[5])-1;if(a)return bs(t,l,g)?ms(t,l,g):new Date(NaN);var m=new Date(0);return!ys(t,i,s)||!ps(t,n)?new Date(NaN):(m.setUTCFullYear(t,i,Math.max(n,s)),m)}function Ze(e){return e?parseInt(e):1}function hs(e){var t=e.match(us);if(!t)return NaN;var r=Ht(t[1]),a=Ht(t[2]),n=Ht(t[3]);return ws(r,a,n)?r*ua+a*oa+n*1e3:NaN}function Ht(e){return e&&parseFloat(e.replace(",","."))||0}function vs(e){if(e==="Z")return 0;var t=e.match(ls);if(!t)return 0;var r=t[1]==="+"?-1:1,a=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return xs(a,n)?r*(a*ua+n*oa):NaN}function ms(e,t,r){var a=new Date(0);a.setUTCFullYear(e,0,4);var n=a.getUTCDay()||7,i=(t-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}var gs=[31,null,31,30,31,30,31,31,30,31,30,31];function la(e){return e%400===0||e%4===0&&e%100!==0}function ys(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(gs[t]||(la(e)?29:28))}function ps(e,t){return t>=1&&t<=(la(e)?366:365)}function bs(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ws(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function xs(e,t){return t>=0&&t<=59}class Cs{async getAllModulesWithQuestions(){const{data:t}=await tt.from("modules").select("*,questions(*)").order("created_at");return t}async add(t){const{data:r}=await tt.from("modules").insert([t]);return r}async remove(t){return await tt.from("modules").delete().eq("id",t.id)}async published(t){return await tt.from("modules").update({is_published:t.is_published}).eq("id",t.id)}}const Ot=new Cs;function Ss(e,t){const r=gt();return cr({mutationKey:[t],mutationFn:async a=>await e(a),onMutate:async a=>{await r.cancelQueries({queryKey:[t]});const n=r.getQueryData([t]);return await r.setQueryData([t],i=>i.map(s=>s.id===a.id?{...s,...a}:s)),n},onError:(a,n,i)=>{r.setQueryData([t],i)},onSettled:()=>{r.invalidateQueries({queryKey:[t]})}})}function Ds(e,t){const r=gt();return cr({mutationKey:[t],mutationFn:async a=>await e(a),onMutate:async a=>{await r.cancelQueries({queryKey:[t]});const n=r.getQueryData([t]);return await r.setQueryData([t],i=>i.filter(s=>s.id!==a.id)),n},onError:(a,n,i)=>{r.setQueryData([t],i)},onSettled:()=>{r.invalidateQueries({queryKey:[t]})}})}const Ts=({module:e,onSelect:t,onEdit:r})=>{const{mutate:a}=Ds(Ot.remove,"modules"),{mutate:n}=Ss(Ot.published,"modules"),i=l=>ss(l),s=l=>!l.questions||l.questions===void 0?0:l.questions.length;return x.jsx(za,{children:x.jsxs(Za,{children:[x.jsxs(at,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(Ne,{variant:"h6",component:"div",children:e.name}),x.jsx(Tn,{checked:e.is_published,disabled:s(e)<e.min_questions,color:s(e)>=e.min_questions?"primary":"error",onChange:()=>{console.log("before",e.is_published),n({...e,is_published:!e.is_published})}})]}),x.jsx(Ne,{variant:"body2",color:"text.secondary",children:e.description?e.description:"Описания нет"}),x.jsx(Ne,{variant:"body2",color:"text.secondary",children:x.jsxs("span",{style:{color:s(e)>=e.min_questions?"inherit":"red"},children:["Необходимо вопросов: ",e.min_questions]})}),x.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Всего вопросов в модуле: ",s(e)]}),x.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Вопросов в квизе: ",e.quiz_question_amount]}),x.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Добавлен:"," ",e.created_at?ns(i(e.created_at),"dd:MM:yyyy HH:mm"):"Loading..."]}),x.jsxs(at,{sx:{display:"flex",justifyContent:"space-between",gap:2,marginTop:2},children:[x.jsxs(Aa,{direction:"row",spacing:2,children:[x.jsx(Fe,{variant:"contained",onClick:t,children:"Перейти"}),x.jsx(Fe,{variant:"contained",onClick:r,children:"Изменить"})]}),x.jsx(at,{children:x.jsx(Fe,{variant:"contained",color:"error",onClick:()=>{a(e)},children:"Удалить"})})]})]})})};var yt=e=>e.type==="checkbox",We=e=>e instanceof Date,ae=e=>e==null;const ca=e=>typeof e=="object";var q=e=>!ae(e)&&!Array.isArray(e)&&ca(e)&&!We(e),_s=e=>q(e)&&e.target?yt(e.target)?e.target.checked:e.target.value:e,Os=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ks=(e,t)=>e.has(Os(t)),Ms=e=>{const t=e.constructor&&e.constructor.prototype;return q(t)&&t.hasOwnProperty("isPrototypeOf")},dr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function le(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(dr&&(e instanceof Blob||e instanceof FileList))&&(r||q(e)))if(t=r?[]:{},!r&&!Ms(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=le(e[a]));else return e;return t}var pt=e=>Array.isArray(e)?e.filter(Boolean):[],I=e=>e===void 0,b=(e,t,r)=>{if(!t||!q(e))return r;const a=pt(t.split(/[,[\].]+?/)).reduce((n,i)=>ae(n)?n:n[i],e);return I(a)||a===e?I(e[t])?r:e[t]:a},ye=e=>typeof e=="boolean";const Ar={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ge={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ce.createContext(null);var Es=(e,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const s=i;return t._proxyFormState[s]!==fe.all&&(t._proxyFormState[s]=!a||fe.all),r&&(r[s]=!0),e[s]}});return n},de=e=>q(e)&&!Object.keys(e).length,Fs=(e,t,r,a)=>{r(e);const{name:n,...i}=e;return de(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!a||fe.all))},Gt=e=>Array.isArray(e)?e:[e];function Us(e){const t=ce.useRef(e);t.current=e,ce.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var ve=e=>typeof e=="string",Rs=(e,t,r,a,n)=>ve(e)?(a&&t.watch.add(e),b(r,e,n)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),b(r,i))):(a&&(t.watchAll=!0),r),fr=e=>/^\w*$/.test(e),da=e=>pt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,t,r)=>{let a=-1;const n=fr(t)?[t]:da(t),i=n.length,s=i-1;for(;++a<i;){const l=n[a];let g=r;if(a!==s){const m=e[l];g=q(m)||Array.isArray(m)?m:isNaN(+n[a+1])?{}:[]}e[l]=g,e=e[l]}return e},Ps=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},Wr=e=>({isOnSubmit:!e||e===fe.onSubmit,isOnBlur:e===fe.onBlur,isOnChange:e===fe.onChange,isOnAll:e===fe.all,isOnTouch:e===fe.onTouched}),jr=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const nt=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const i=b(e,n);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],n)&&!a)break;if(s.ref&&t(s.ref,s.name)&&!a)break;nt(l,t)}else q(l)&&nt(l,t)}}};var Ns=(e,t,r)=>{const a=pt(b(e,r));return V(a,"root",t[r]),V(e,r,a),e},hr=e=>e.type==="file",Se=e=>typeof e=="function",kt=e=>{if(!dr)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ct=e=>ve(e),vr=e=>e.type==="radio",Mt=e=>e instanceof RegExp;const Lr={value:!1,isValid:!1},Ir={value:!0,isValid:!0};var fa=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!I(e[0].attributes.value)?I(e[0].value)||e[0].value===""?Ir:{value:e[0].value,isValid:!0}:Ir:Lr}return Lr};const Br={isValid:!1,value:null};var ha=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Br):Br;function qr(e,t,r="validate"){if(Ct(e)||Array.isArray(e)&&e.every(Ct)||ye(e)&&!e)return{type:r,message:Ct(e)?e:"",ref:t}}var Ve=e=>q(e)&&!Mt(e)?e:{value:e,message:""},Yr=async(e,t,r,a,n)=>{const{ref:i,refs:s,required:l,maxLength:g,minLength:m,min:d,max:f,pattern:_,validate:D,name:C,valueAsNumber:ie,mount:E,disabled:Y}=e._f,S=b(t,C);if(!E||Y)return{};const Q=s?s[0]:i,z=T=>{a&&Q.reportValidity&&(Q.setCustomValidity(ye(T)?"":T||""),Q.reportValidity())},P={},X=vr(i),J=yt(i),N=X||J,Z=(ie||hr(i))&&I(i.value)&&I(S)||kt(i)&&i.value===""||S===""||Array.isArray(S)&&!S.length,j=Ps.bind(null,C,r,P),Re=(T,O,L,k=ge.maxLength,B=ge.minLength)=>{const K=T?O:L;P[C]={type:T?k:B,message:K,ref:i,...j(T?k:B,K)}};if(n?!Array.isArray(S)||!S.length:l&&(!N&&(Z||ae(S))||ye(S)&&!S||J&&!fa(s).isValid||X&&!ha(s).isValid)){const{value:T,message:O}=Ct(l)?{value:!!l,message:l}:Ve(l);if(T&&(P[C]={type:ge.required,message:O,ref:Q,...j(ge.required,O)},!r))return z(O),P}if(!Z&&(!ae(d)||!ae(f))){let T,O;const L=Ve(f),k=Ve(d);if(!ae(S)&&!isNaN(S)){const B=i.valueAsNumber||S&&+S;ae(L.value)||(T=B>L.value),ae(k.value)||(O=B<k.value)}else{const B=i.valueAsDate||new Date(S),K=Ge=>new Date(new Date().toDateString()+" "+Ge),ze=i.type=="time",He=i.type=="week";ve(L.value)&&S&&(T=ze?K(S)>K(L.value):He?S>L.value:B>new Date(L.value)),ve(k.value)&&S&&(O=ze?K(S)<K(k.value):He?S<k.value:B<new Date(k.value))}if((T||O)&&(Re(!!T,L.message,k.message,ge.max,ge.min),!r))return z(P[C].message),P}if((g||m)&&!Z&&(ve(S)||n&&Array.isArray(S))){const T=Ve(g),O=Ve(m),L=!ae(T.value)&&S.length>+T.value,k=!ae(O.value)&&S.length<+O.value;if((L||k)&&(Re(L,T.message,O.message),!r))return z(P[C].message),P}if(_&&!Z&&ve(S)){const{value:T,message:O}=Ve(_);if(Mt(T)&&!S.match(T)&&(P[C]={type:ge.pattern,message:O,ref:i,...j(ge.pattern,O)},!r))return z(O),P}if(D){if(Se(D)){const T=await D(S,t),O=qr(T,Q);if(O&&(P[C]={...O,...j(ge.validate,O.message)},!r))return z(O.message),P}else if(q(D)){let T={};for(const O in D){if(!de(T)&&!r)break;const L=qr(await D[O](S,t),Q,O);L&&(T={...L,...j(O,L.message)},z(L.message),r&&(P[C]=T))}if(!de(T)&&(P[C]={ref:Q,...T},!r))return P}}return z(!0),P};function $s(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=I(e)?a++:e[t[a++]];return e}function Vs(e){for(const t in e)if(e.hasOwnProperty(t)&&!I(e[t]))return!1;return!0}function G(e,t){const r=Array.isArray(t)?t:fr(t)?[t]:da(t),a=r.length===1?e:$s(e,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(q(a)&&de(a)||Array.isArray(a)&&Vs(a))&&G(e,r.slice(0,-1)),e}var Kt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},Et=e=>ae(e)||!ca(e);function _e(e,t){if(Et(e)||Et(t))return e===t;if(We(e)&&We(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const n of r){const i=e[n];if(!a.includes(n))return!1;if(n!=="ref"){const s=t[n];if(We(i)&&We(s)||q(i)&&q(s)||Array.isArray(i)&&Array.isArray(s)?!_e(i,s):i!==s)return!1}}return!0}var va=e=>e.type==="select-multiple",As=e=>vr(e)||yt(e),Xt=e=>kt(e)&&e.isConnected,Ws=e=>q(e)&&Object.values(e).some(t=>t),ma=e=>{for(const t in e)if(Se(e[t]))return!0;return!1};function Ft(e,t={}){const r=Array.isArray(e);if(q(e)||r)for(const a in e)Array.isArray(e[a])||q(e[a])&&!ma(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Ft(e[a],t[a])):ae(e[a])||(t[a]=!0);return t}function ga(e,t,r){const a=Array.isArray(e);if(q(e)||a)for(const n in e)Array.isArray(e[n])||q(e[n])&&!ma(e[n])?I(t)||Et(r[n])?r[n]=Array.isArray(e[n])?Ft(e[n],[]):{...Ft(e[n])}:ga(e[n],ae(t)?{}:t[n],r[n]):r[n]=!_e(e[n],t[n]);return r}var wt=(e,t)=>ga(e,t,Ft(t)),ya=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>I(e)?e:t?e===""?NaN:e&&+e:r&&ve(e)?new Date(e):a?a(e):e;function Jt(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return hr(t)?t.files:vr(t)?ha(e.refs).value:va(t)?[...t.selectedOptions].map(({value:r})=>r):yt(t)?fa(e.refs).value:ya(I(t.value)?e.ref.value:t.value,e)}var js=(e,t,r,a)=>{const n={};for(const i of e){const s=b(t,i);s&&V(n,i,s._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}},et=e=>I(e)?e:Mt(e)?e.source:q(e)?Mt(e.value)?e.value.source:e.value:e,Ls=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Qr(e,t,r){const a=b(e,r);if(a||fr(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),s=b(t,i),l=b(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};n.pop()}return{name:r}}var Is=(e,t,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:(r?a.isOnChange:n.isOnChange)?e:!0,Bs=(e,t)=>!pt(b(e,t)).length&&G(e,t);const qs={mode:fe.onSubmit,reValidateMode:fe.onChange,shouldFocusError:!0};function Ys(e={}){let t={...qs,...e},r={submitCount:0,isDirty:!1,isLoading:Se(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=q(t.defaultValues)||q(t.values)?le(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:le(n),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Kt(),array:Kt(),state:Kt()},_=Wr(t.mode),D=Wr(t.reValidateMode),C=t.criteriaMode===fe.all,ie=o=>u=>{clearTimeout(m),m=setTimeout(o,u)},E=async o=>{if(d.isValid||o){const u=t.resolver?de((await N()).errors):await j(a,!0);u!==r.isValid&&f.state.next({isValid:u})}},Y=(o,u)=>{(d.isValidating||d.validatingFields)&&(u.forEach(c=>{V(r.validatingFields,c,o)}),r.isValidating=Ws(r.validatingFields),f.state.next({validatingFields:r.validatingFields,isValidating:r.isValidating}))},S=(o,u=[],c,p,y=!0,v=!0)=>{if(p&&c){if(s.action=!0,v&&Array.isArray(b(a,o))){const w=c(b(a,o),p.argA,p.argB);y&&V(a,o,w)}if(v&&Array.isArray(b(r.errors,o))){const w=c(b(r.errors,o),p.argA,p.argB);y&&V(r.errors,o,w),Bs(r.errors,o)}if(d.touchedFields&&v&&Array.isArray(b(r.touchedFields,o))){const w=c(b(r.touchedFields,o),p.argA,p.argB);y&&V(r.touchedFields,o,w)}d.dirtyFields&&(r.dirtyFields=wt(n,i)),f.state.next({name:o,isDirty:T(o,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(i,o,u)},Q=(o,u)=>{V(r.errors,o,u),f.state.next({errors:r.errors})},z=o=>{r.errors=o,f.state.next({errors:r.errors,isValid:!1})},P=(o,u,c,p)=>{const y=b(a,o);if(y){const v=b(i,o,I(c)?b(n,o):c);I(v)||p&&p.defaultChecked||u?V(i,o,u?v:Jt(y._f)):k(o,v),s.mount&&E()}},X=(o,u,c,p,y)=>{let v=!1,w=!1;const F={name:o},H=!!(b(a,o)&&b(a,o)._f.disabled);if(!c||p){d.isDirty&&(w=r.isDirty,r.isDirty=F.isDirty=T(),v=w!==F.isDirty);const oe=H||_e(b(n,o),u);w=!!(!H&&b(r.dirtyFields,o)),oe||H?G(r.dirtyFields,o):V(r.dirtyFields,o,!0),F.dirtyFields=r.dirtyFields,v=v||d.dirtyFields&&w!==!oe}if(c){const oe=b(r.touchedFields,o);oe||(V(r.touchedFields,o,c),F.touchedFields=r.touchedFields,v=v||d.touchedFields&&oe!==c)}return v&&y&&f.state.next(F),v?F:{}},J=(o,u,c,p)=>{const y=b(r.errors,o),v=d.isValid&&ye(u)&&r.isValid!==u;if(e.delayError&&c?(g=ie(()=>Q(o,c)),g(e.delayError)):(clearTimeout(m),g=null,c?V(r.errors,o,c):G(r.errors,o)),(c?!_e(y,c):y)||!de(p)||v){const w={...p,...v&&ye(u)?{isValid:u}:{},errors:r.errors,name:o};r={...r,...w},f.state.next(w)}Y(!1,Object.keys(r.validatingFields).filter(w=>w===o))},N=async o=>t.resolver(i,t.context,js(o||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation)),Z=async o=>{const{errors:u}=await N(o);if(o)for(const c of o){const p=b(u,c);p?V(r.errors,c,p):G(r.errors,c)}else r.errors=u;return u},j=async(o,u,c={valid:!0})=>{for(const p in o){const y=o[p];if(y){const{_f:v,...w}=y;if(v){const F=l.array.has(v.name),H=await Yr(y,i,C,t.shouldUseNativeValidation&&!u,F);if(H[v.name]&&(c.valid=!1,u))break;!u&&(b(H,v.name)?F?Ns(r.errors,H,v.name):V(r.errors,v.name,H[v.name]):G(r.errors,v.name))}w&&await j(w,u,c)}}return c.valid},Re=()=>{for(const o of l.unMount){const u=b(a,o);u&&(u._f.refs?u._f.refs.every(c=>!Xt(c)):!Xt(u._f.ref))&&It(o)}l.unMount=new Set},T=(o,u)=>(o&&u&&V(i,o,u),!_e(mr(),n)),O=(o,u,c)=>Rs(o,l,{...s.mount?i:I(u)?n:ve(o)?{[o]:u}:u},c,u),L=o=>pt(b(s.mount?i:n,o,e.shouldUnregister?b(n,o,[]):[])),k=(o,u,c={})=>{const p=b(a,o);let y=u;if(p){const v=p._f;v&&(!v.disabled&&V(i,o,ya(u,v)),y=kt(v.ref)&&ae(u)?"":u,va(v.ref)?[...v.ref.options].forEach(w=>w.selected=y.includes(w.value)):v.refs?yt(v.ref)?v.refs.length>1?v.refs.forEach(w=>(!w.defaultChecked||!w.disabled)&&(w.checked=Array.isArray(y)?!!y.find(F=>F===w.value):y===w.value)):v.refs[0]&&(v.refs[0].checked=!!y):v.refs.forEach(w=>w.checked=w.value===y):hr(v.ref)?v.ref.value="":(v.ref.value=y,v.ref.type||f.values.next({name:o,values:{...i}})))}(c.shouldDirty||c.shouldTouch)&&X(o,y,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&Ge(o)},B=(o,u,c)=>{for(const p in u){const y=u[p],v=`${o}.${p}`,w=b(a,v);(l.array.has(o)||!Et(y)||w&&!w._f)&&!We(y)?B(v,y,c):k(v,y,c)}},K=(o,u,c={})=>{const p=b(a,o),y=l.array.has(o),v=le(u);V(i,o,v),y?(f.array.next({name:o,values:{...i}}),(d.isDirty||d.dirtyFields)&&c.shouldDirty&&f.state.next({name:o,dirtyFields:wt(n,i),isDirty:T(o,v)})):p&&!p._f&&!ae(v)?B(o,v,c):k(o,v,c),jr(o,l)&&f.state.next({...r}),f.values.next({name:s.mount?o:void 0,values:{...i}})},ze=async o=>{const u=o.target;let c=u.name,p=!0;const y=b(a,c),v=()=>u.type?Jt(y._f):_s(o),w=F=>{p=Number.isNaN(F)||F===b(i,c,F)};if(y){let F,H;const oe=v(),Pe=o.type===Ar.BLUR||o.type===Ar.FOCUS_OUT,Ca=!Ls(y._f)&&!t.resolver&&!b(r.errors,c)&&!y._f.deps||Is(Pe,b(r.touchedFields,c),r.isSubmitted,D,_),qt=jr(c,l,Pe);V(i,c,oe),Pe?(y._f.onBlur&&y._f.onBlur(o),g&&g(0)):y._f.onChange&&y._f.onChange(o);const Yt=X(c,oe,Pe,!1),Sa=!de(Yt)||qt;if(!Pe&&f.values.next({name:c,type:o.type,values:{...i}}),Ca)return d.isValid&&E(),Sa&&f.state.next({name:c,...qt?{}:Yt});if(!Pe&&qt&&f.state.next({...r}),Y(!0,[c]),t.resolver){const{errors:Sr}=await N([c]);if(w(oe),p){const Da=Qr(r.errors,a,c),Dr=Qr(Sr,a,Da.name||c);F=Dr.error,c=Dr.name,H=de(Sr)}}else F=(await Yr(y,i,C,t.shouldUseNativeValidation))[c],w(oe),p&&(F?H=!1:d.isValid&&(H=await j(a,!0)));p&&(y._f.deps&&Ge(y._f.deps),J(c,H,F,Yt))}},He=(o,u)=>{if(b(r.errors,u)&&o.focus)return o.focus(),1},Ge=async(o,u={})=>{let c,p;const y=Gt(o);if(Y(!0,y),t.resolver){const v=await Z(I(o)?o:y);c=de(v),p=o?!y.some(w=>b(v,w)):c}else o?(p=(await Promise.all(y.map(async v=>{const w=b(a,v);return await j(w&&w._f?{[v]:w}:w)}))).every(Boolean),!(!p&&!r.isValid)&&E()):p=c=await j(a);return f.state.next({...!ve(o)||d.isValid&&c!==r.isValid?{}:{name:o},...t.resolver||!o?{isValid:c}:{},errors:r.errors,isValidating:!1}),u.shouldFocus&&!p&&nt(a,He,o?y:l.mount),p},mr=o=>{const u={...n,...s.mount?i:{}};return I(o)?u:ve(o)?b(u,o):o.map(c=>b(u,c))},gr=(o,u)=>({invalid:!!b((u||r).errors,o),isDirty:!!b((u||r).dirtyFields,o),isTouched:!!b((u||r).touchedFields,o),isValidating:!!b((u||r).validatingFields,o),error:b((u||r).errors,o)}),pa=o=>{o&&Gt(o).forEach(u=>G(r.errors,u)),f.state.next({errors:o?r.errors:{}})},yr=(o,u,c)=>{const p=(b(a,o,{_f:{}})._f||{}).ref;V(r.errors,o,{...u,ref:p}),f.state.next({name:o,errors:r.errors,isValid:!1}),c&&c.shouldFocus&&p&&p.focus&&p.focus()},ba=(o,u)=>Se(o)?f.values.subscribe({next:c=>o(O(void 0,u),c)}):O(o,u,!0),It=(o,u={})=>{for(const c of o?Gt(o):l.mount)l.mount.delete(c),l.array.delete(c),u.keepValue||(G(a,c),G(i,c)),!u.keepError&&G(r.errors,c),!u.keepDirty&&G(r.dirtyFields,c),!u.keepTouched&&G(r.touchedFields,c),!u.keepIsValidating&&G(r.validatingFields,c),!t.shouldUnregister&&!u.keepDefaultValue&&G(n,c);f.values.next({values:{...i}}),f.state.next({...r,...u.keepDirty?{isDirty:T()}:{}}),!u.keepIsValid&&E()},pr=({disabled:o,name:u,field:c,fields:p,value:y})=>{if(ye(o)){const v=o?void 0:I(y)?Jt(c?c._f:b(p,u)._f):y;V(i,u,v),X(u,v,!1,!1,!0)}},Bt=(o,u={})=>{let c=b(a,o);const p=ye(u.disabled);return V(a,o,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:o}},name:o,mount:!0,...u}}),l.mount.add(o),c?pr({field:c,disabled:u.disabled,name:o,value:u.value}):P(o,!0,u.value),{...p?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:et(u.min),max:et(u.max),minLength:et(u.minLength),maxLength:et(u.maxLength),pattern:et(u.pattern)}:{},name:o,onChange:ze,onBlur:ze,ref:y=>{if(y){Bt(o,u),c=b(a,o);const v=I(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,w=As(v),F=c._f.refs||[];if(w?F.find(H=>H===v):v===c._f.ref)return;V(a,o,{_f:{...c._f,...w?{refs:[...F.filter(Xt),v,...Array.isArray(b(n,o))?[{}]:[]],ref:{type:v.type,name:o}}:{ref:v}}}),P(o,!1,void 0,v)}else c=b(a,o,{}),c._f&&(c._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(ks(l.array,o)&&s.action)&&l.unMount.add(o)}}},br=()=>t.shouldFocusError&&nt(a,He,l.mount),wa=o=>{ye(o)&&(f.state.next({disabled:o}),nt(a,(u,c)=>{let p=o;const y=b(a,c);y&&ye(y._f.disabled)&&(p||(p=y._f.disabled)),u.disabled=p},0,!1))},wr=(o,u)=>async c=>{let p;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let y=le(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:v,values:w}=await N();r.errors=v,y=w}else await j(a);if(G(r.errors,"root"),de(r.errors)){f.state.next({errors:{}});try{await o(y,c)}catch(v){p=v}}else u&&await u({...r.errors},c),br(),setTimeout(br);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:de(r.errors)&&!p,submitCount:r.submitCount+1,errors:r.errors}),p)throw p},xa=(o,u={})=>{b(a,o)&&(I(u.defaultValue)?K(o,le(b(n,o))):(K(o,u.defaultValue),V(n,o,le(u.defaultValue))),u.keepTouched||G(r.touchedFields,o),u.keepDirty||(G(r.dirtyFields,o),r.isDirty=u.defaultValue?T(o,le(b(n,o))):T()),u.keepError||(G(r.errors,o),d.isValid&&E()),f.state.next({...r}))},xr=(o,u={})=>{const c=o?le(o):n,p=le(c),y=de(o),v=y?n:p;if(u.keepDefaultValues||(n=c),!u.keepValues){if(u.keepDirtyValues)for(const w of l.mount)b(r.dirtyFields,w)?V(v,w,b(i,w)):K(w,b(v,w));else{if(dr&&I(o))for(const w of l.mount){const F=b(a,w);if(F&&F._f){const H=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(kt(H)){const oe=H.closest("form");if(oe){oe.reset();break}}}}a={}}i=e.shouldUnregister?u.keepDefaultValues?le(n):{}:le(v),f.array.next({values:{...v}}),f.values.next({values:{...v}})}l={mount:u.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!u.keepIsValid||!!u.keepDirtyValues,s.watch=!!e.shouldUnregister,f.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:y?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!_e(o,n)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:y?[]:u.keepDirtyValues?u.keepDefaultValues&&i?wt(n,i):r.dirtyFields:u.keepDefaultValues&&o?wt(n,o):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Cr=(o,u)=>xr(Se(o)?o(i):o,u);return{control:{register:Bt,unregister:It,getFieldState:gr,handleSubmit:wr,setError:yr,_executeSchema:N,_getWatch:O,_getDirty:T,_updateValid:E,_removeUnmounted:Re,_updateFieldArray:S,_updateDisabledField:pr,_getFieldArray:L,_reset:xr,_resetDefaultValues:()=>Se(t.defaultValues)&&t.defaultValues().then(o=>{Cr(o,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:o=>{r={...r,...o}},_disableForm:wa,_subjects:f,_proxyFormState:d,_setErrors:z,get _fields(){return a},get _formValues(){return i},get _state(){return s},set _state(o){s=o},get _defaultValues(){return n},get _names(){return l},set _names(o){l=o},get _formState(){return r},set _formState(o){r=o},get _options(){return t},set _options(o){t={...t,...o}}},trigger:Ge,register:Bt,handleSubmit:wr,watch:ba,setValue:K,getValues:mr,reset:Cr,resetField:xa,clearErrors:pa,unregister:It,setError:yr,setFocus:(o,u={})=>{const c=b(a,o),p=c&&c._f;if(p){const y=p.refs?p.refs[0]:p.ref;y.focus&&(y.focus(),u.shouldSelect&&y.select())}},getFieldState:gr}}function Qs(e={}){const t=ce.useRef(),r=ce.useRef(),[a,n]=ce.useState({isDirty:!1,isValidating:!1,isLoading:Se(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Se(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ys(e),formState:a});const i=t.current.control;return i._options=e,Us({subject:i._subjects.state,next:s=>{Fs(s,i._proxyFormState,i._updateFormState,!0)&&n({...i._formState})}}),ce.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==a.isDirty&&i._subjects.state.next({isDirty:s})}},[i,a.isDirty]),ce.useEffect(()=>{e.values&&!_e(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,n(s=>({...s}))):i._resetDefaultValues()},[e.values,i]),ce.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ce.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ce.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=Es(a,i),t.current}function zs(e,t){const r=gt();return cr({mutationKey:[t],mutationFn:async a=>await e(a),onMutate:async a=>{await r.cancelQueries({queryKey:[t]});const n=r.getQueryData([t]);return await r.setQueryData([t],i=>[...i,a]),n},onError:(a,n,i)=>{r.setQueryData([t],i)},onSettled:()=>{r.invalidateQueries({queryKey:[t]})}})}const Hs=({open:e,handleClose:t})=>{const{mutate:r}=zs(Ot.add,"modules"),{register:a,handleSubmit:n}=Qs(),i=s=>{r(s)};return x.jsx(Kr,{open:e,onClose:t,children:x.jsx("form",{onSubmit:n(i),children:x.jsxs(Xr,{sx:{display:"flex",flexDirection:"column"},children:[x.jsx(Jr,{sx:{textAlign:"center",marginBottom:2},children:"Create new module"}),x.jsx(Ae,{label:"Название модуля",sx:{marginBottom:1},...a("name")}),x.jsx(Ae,{label:"Описание",sx:{marginBottom:1}}),x.jsx(Ae,{label:"Необходимо вопросов",sx:{marginBottom:1},...a("min_questions")}),x.jsx(Ae,{label:"Вопросов в квизе",...a("quiz_question_amount")}),x.jsxs(Zr,{children:[x.jsx(Fe,{color:"primary",type:"submit",onClick:t,children:"Сохранить"}),x.jsx(Fe,{onClick:t,color:"primary",children:"Отменить и закрыть"})]})]})})})},Gs=({open:e,handleClose:t,handleUpdate:r,updateName:a,updateDescription:n,setUpdateName:i,setUpdateDescription:s})=>{const l=m=>{i(m.target.value)},g=m=>{s(m.target.value)};return x.jsx(Kr,{open:e,onClose:t,children:x.jsx("form",{onSubmit:r,children:x.jsxs(Xr,{sx:{display:"flex",flexDirection:"column"},children:[x.jsx(Jr,{sx:{textAlign:"center",marginBottom:2},children:"Edit module"}),x.jsx(Ae,{label:"Name",sx:{marginBottom:1},onChange:l,value:a}),x.jsx(Ae,{label:"Description",onChange:g,value:n}),x.jsxs(Zr,{children:[x.jsx(Fe,{color:"primary",type:"submit",onClick:t,children:"Сохранить"}),x.jsx(Fe,{onClick:t,color:"primary",children:"Отменить и закрыть"})]})]})})})},Ks=()=>In({queryKey:["modules"],queryFn:()=>Ot.getAllModulesWithQuestions()}),ao=()=>{const e=Pa(),{data:t}=Ks(),[r,a]=W.useState(!1),{updateOpen:n,setUpdateOpen:i,updateName:s,setUpdateName:l,updateDescription:g,setUpdateDescription:m,handleUpdate:d,setModuleIdToUpdate:f}=Bn(),_=()=>{a(!0)},D=()=>{a(!1)};return t?(console.log(t[1].is_published),x.jsxs(at,{children:[x.jsxs(at,{sx:{m:2},children:[x.jsx(Wa.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:x.jsx(Hs,{open:r,handleClose:D})}),x.jsx(Gs,{open:n,handleClose:()=>i(!1),updateName:s,updateDescription:g,handleUpdate:async()=>{await d()},setUpdateName:l,setUpdateDescription:m}),x.jsx(Fr,{container:!0,spacing:2,children:t==null?void 0:t.map(C=>x.jsx(Fr,{item:!0,xs:12,sm:6,md:4,lg:3,children:x.jsx(Ts,{module:C,onSelect:()=>{e(`/questions/${C.id}`)},onEdit:()=>{f(C.id),l(C.name),m(C.description),i(!0)}})},C.id))})]}),x.jsx(ja,{color:"primary","aria-label":"Add Module",sx:{position:"fixed",bottom:"16px",right:"48px"},onClick:_,children:x.jsx(La,{})})]})):x.jsx(Na,{})};export{ao as default};
